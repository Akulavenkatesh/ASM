{% load staticfiles %}

<div class="header-cont">
    <div></div>
</div>
<link rel="stylesheet" type="text/css" href="{% static 'dashboard/style.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'dashboard/bootstrap.css' %}" />
<link rel="stylesheet" type="text/css" href="{% block stylesheet %}{% static 'admin/css/base.css' %}{% endblock %}" />

<div class="row">
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/admin/">Configuration</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="#">ADB Devices</a>
                    </li>
                    <li>
                        <a href="#">Performance Monitor</a>
                    </li>
                    <li>
                        <a href="#">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>
    </div>
    <!-- Introduction Row -->
        <div>
            <div class="col-lg-12">
                <h1 class="page-header">Appium Servers
                    <small>Status Monitor</small>
                </h1>
        </div>

{% if server_list %}
    {% for server in server_list %}
    <div class="col-lg-4 col-sm-6 text-center">
    {% if server.isActive %}
        <div class="portContainer active">
            <a href="/dashboard/{{ server.id }}/">{{ server.port_number }}</a>
        </div>
        <div class="serverButton">
            <a href="{% url 'stop' server.id %}">Stop Server</a>
        </div>
        {% else %}
        <div >
            <div class="portContainer">
                <a href="/dashboard/{{ server.id }}/">{{ server.port_number }}</a>
            </div>
        </div>
        <div class="serverButton">
            <a href="{% url 'status' server.id %}">Start Server</a>
        </div>
        {% endif %}
        <div class="serverName">
            <li><a href="/dashboard/{{ server.id }}/">Server Name: {{ server.server_name }}</a></li>
        </div>
    </div>
    {% endfor %}

{% else %}
    <p>No servers are available.</p>
{% endif %}
    </div>